<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html>
        <head>
                <title>IDE Gaia 2021</title>

                <link rel="stylesheet" href="../lib/codemirror.css">
        <script src="../lib/codemirror.js"> </script>
        <script src="../js/javascript.js"> </script>
        <link rel="stylesheet" href="../css/default.css">

        <style type="text/css">
                .CodeMirror 
                {
                        /*border-top: 1px solid black; 
                        border-bottom: 1px solid black;*/
                        font-size: 12px;
                        height: auto;
                }
                .CodeMirror-scroll {
                        height: 100%; overflow-y: auto; overflow-x: auto;
                }
        </style>
        </head>

        <body>
                <!-- THE IDE -->
                <div>
<textarea id="code" name="code"></textarea>
                </div>

                <!-- THE SCRIPT -->
                <script>
               
               var coords = 0;
                        
              var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
                lineNumbers: true,
                matchBrackets: true
              });

              window.onfocus = function()
              {
                      coords = editor.getCursor();
              };

              window.onkeyup = function()
              {
                      coords = editor.getCursor();
              };

              //pega o codigo digitado
              function getText()
              {
                return editor.getValue();
              }
              //seta o código que esta no objeto
              function setText(str)
              {
                editor.setValue(str);
              }
              //adiciona fragmento de código pré definido
              function addFragment(str)
              {
                        editor.replaceRange((str + "\n"), coords);
              }
        </script>
        </body>
</html>